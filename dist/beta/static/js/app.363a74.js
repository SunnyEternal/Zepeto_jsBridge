webpackJsonp([1],{"/0Il":function(e,t){},"0e3M":function(e,t,n){"use strict";var i=n("lYRQ");n.n(i).a},"2CaA":function(e,t){e.exports={assetsPublicPath:"./",assetsRoot:"../dist/release/",scheme:"b612cn://",ajaxPrefix:"https://api-zepeto.kajicam.com",sitePrefix:"https://h5.kajicam.com/events/",uploadUrl:"https://b612-fs.snowcam.cn/v1/event/vision/xiaofu/upload-only",siteUrl:"http://h5.kajicam.com/events/2019splicePic/index.html",imagePrefix:"https://b612-static.kajicam.com/",filterId:"",categoryId:"",stickerId:"",activityDirName:"2019redPackets",easylinkImg:"../static/img/qrlink-real.png"}},"2YCX":function(e,t){},"2uFj":function(e,t,n){var i=n("6rvf"),a=(n("2CaA"),n("TcyI"),n("TgpH"),null);a=i,e.exports=a},"6Gvr":function(e,t){},"6rvf":function(e,t){e.exports={assetsPublicPath:"./",assetsRoot:"../dist/beta/",scheme:"b612cnb://",ajaxPrefix:"https://api-zepeto-beta.kajicam.com",sitePrefix:"http://h5-beta.kajicam.com/events",uploadUrl:"http://qa-b612-fs.snowcam.cn/v1/event/vision/stickerinfo/upload-only",siteUrl:"http://10.35.33.222:8080/index.html",imagePrefix:"https://test-img-hihi.oss-cn-beijing.aliyuncs.com/",filterId:"",categoryId:"",stickerId:"",activityName:"2019splicePic",easylinkImg:"../static/img/qrlink-beta.png"}},FCgX:function(e,t,n){"use strict";var i=n("uJdG");n.n(i).a},Fge1:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGsAAABqBAMAAABJzbKaAAAAIVBMVEVHcEyniHininqni3uni3uoi3uoinqoi3uqi3qoi3uoi3t6bR3VAAAACnRSTlMAIGGAP5+/3w1SMHO38QAAArlJREFUWMPtmM9P1EAUx7tLNe2NKiLcYBYMe1vcsNEbYEW5uUB15aQmlODNhNDoqRtBlxs2xF83Y6JJ/0rbmTftbmem2zcmhMN+T9vOfvrmvb73ZjqGoVLfdUIDrVM3EZqrpZS7gcVmKOZO4yiLUe66zhzRszQBczXiiI/l1WLmf2IVYv5jIyx7AVLDtYgQcpldCq+77zhzEmyTpPpeiElu3nFknEkp0gxHsutpNu5QCfO8xTCynpebYExiLgJsZdiZcPiCqhgQoMiSPMxAOdNS1xLn5HU0DiMhBrMTICJNHUzDWj5JlG+akbQ4tqjotY48TTYBuyjHivdpTCJFRDLnhLZpRWVz5OYk3WOkAERzfVkBpFxElsp692Agf6Y1MCaa6HpovkEq7wjOG194+28nWqlGbcVxfMSaVpuq0n5nKk7VS3/eZtiDKtg+xf4khWcxqn2/AmXHTK3kJ2DtCturz4D9MoyPHFsYj/0E7HfmWiXn9gH7axiPOLY6HnsLWIzDPnAs1LWm6ZtmJDXfGyZL6nmWcOdWcTmpWwGa9aZb3RNNdE112th9WFI95pon2/6ZXqId5Q7PPgyCoCveX04xT9m+XgSphL1tnVLersLcFKWC4+L9OwzzFG3vG8OC4lPXAOvKsUPAWoXvAKC8l/IwAhW8ksSROlfmmuBcvRy7wbH3CsxDYXZFa8cK33bkzZ9j7wqbeY7tDW3885dUU0QScsvzetk/l/2DxUJuidl1Bhhf5ayOnyhL0buMOhGOFAqunaWUf8DnaTPsteD149GUfE4x/xm/fkKNifVopd5la6PNKP8oG+4klOyb0Npu5svVTcD8fHz7cvzKucUx3PnYPY4toLAOx1pXgWlO8ivHLlDYJ47hjsfqQL1BHmtCcvWQK8Isw5CHqGCui16AzITb01i4rJk59eA/MPJu7Q032hgAAAAASUVORK5CYII="},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={};n.d(i,"correct",function(){return _}),n.d(i,"allModsIndexArr",function(){return j}),n.d(i,"getUserActions",function(){return H}),n.d(i,"getUserAction",function(){return W}),n.d(i,"imageUpload",function(){return q});n("9mmO"),n("1uLP"),n("52Wt"),n("TFWu"),n("MyjO"),n("qtRy"),n("THnP"),n("K0JP"),n("NfZy"),n("dTzs"),n("+vXH"),n("MsuQ"),n("dSUw"),n("ZDXm"),n("V/H1"),n("CVR+"),n("vmSu"),n("4ZU1"),n("yx1U"),n("SPtU"),n("A52B"),n("PuTd"),n("dm+7"),n("JG34"),n("Rw4K"),n("9mGU"),n("bUY0"),n("mTp7"),n("y9m4"),n("A0n/"),n("VTn2"),n("W/IU"),n("Y5ex"),n("WpPb"),n("+yjc"),n("gPva"),n("C+4B"),n("W4Z6"),n("tJwI"),n("eC2H"),n("n12u"),n("nRs1"),n("jrHM"),n("EuXz"),n("F3sI"),n("bqOW"),n("Racj"),n("tqSY"),n("CvWX"),n("Y1S0"),n("Gh7F"),n("pd+2"),n("MfeA"),n("VjuZ"),n("mJx5"),n("qwQ3"),n("beEN"),n("xMpm"),n("9vc3"),n("WpTh"),n("U6qc"),n("No4x"),n("WgSQ"),n("yuXV"),n("XtiL"),n("A1ng"),n("LG56"),n("Stuz"),n("aJ2J"),n("WiIn"),n("v2lb"),n("7Jvp"),n("lyhN"),n("kBOG"),n("xONB"),n("LlNE"),n("9xIj"),n("m6Yj"),n("wrs0"),n("Lqg1"),n("pWGb"),n("1ip3"),n("N4KQ"),n("Hl+4"),n("MjHD"),n("SRCy"),n("H0mh"),n("gbyG"),n("YVn/"),n("FKfb"),n("zmx7"),n("smQ+"),n("m8F4"),n("v8VU"),n("dich"),n("fx22"),n("SldL"),n("Avvh"),n("0/sL"),n("wyjE"),n("2YCX");var a=n("7+uW"),o=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view",{staticClass:"child-view"})],1)};o._withStripped=!0;var r=n("//Fk"),s=n.n(r),c=n("woOf"),u=n.n(c),l=n("Zrlr"),d=n.n(l),h=n("wxAW"),m=n.n(h),p=function(){function e(){d()(this,e)}return m()(e,null,[{key:"isIos",value:function(){return!!navigator.userAgent.match(/iPhone|iPad|iPod/i)}},{key:"isAndroid",value:function(){return!!navigator.userAgent.match(/Android/i)}},{key:"isIosOrAndroid",value:function(){return e.isIos()||e.isAndroid()}},{key:"isIosLowerThan11",value:function(){var t=!1;e.isIos()&&(t=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/)[1]<=10);return t}},{key:"isIos8or9",value:function(){var e=navigator.userAgent;return e.indexOf("OS 8_")>=0||e.indexOf("OS 9_")>=0}},{key:"lowSysVersion",value:function(){if(e.isIos()){var t=[10,2,2],n=navigator.userAgent.match(/OS (\d+)_(\d+)_?(\d+)?/);n.shift();for(var i=0;i<t.length;i++){var a=parseInt(n[i],10)||0,o=parseInt(t[i],10)||0;if(a<o)return!0;if(a>o)return!1}return!1}if(e.isAndroid()){var r=[4,5,0],s=navigator.userAgent.match(/Android (\d+)\.(\d+)\.?(\d+)?/);s.shift();for(var c=0;c<r.length;c++){var u=parseInt(s[c],10)||0,l=parseInt(r[c],10)||0;if(u<l)return!0;if(u>l)return!1}return!1}}}]),e}();CanvasRenderingContext2D.prototype.roundRect=function(e,t,n,i,a){var o=Math.min(n,i);return a>o/2&&(a=o/2),this.beginPath(),this.moveTo(e+a,t),this.arcTo(e+n,t,e+n,t+i,a),this.arcTo(e+n,t+i,e,t+i,a),this.arcTo(e,t+i,e,t,a),this.arcTo(e,t,e+n,t,a),this.closePath(),this};var v=function(){function e(){d()(this,e)}return m()(e,null,[{key:"inputPath2url",value:function(e){var t=null;return void 0!=window.createObjectURL?t=window.createObjectURL(e):void 0!=window.URL?t=window.URL.createObjectURL(e):void 0!=window.webkitURL&&(t=window.webkitURL.createObjectURL(e)),t}},{key:"createQr",value:function(e,t){return e.innerHTML="",new QRCode(e,{text:t,width:128,height:128,colorDark:"#000000",colorLight:"#ffffff",correctLevel:QRCode.CorrectLevel.H})}},{key:"addQr",value:function(e){var t=document.createElement("canvas");t.style.width="750px",t.style.height="1000px";var n=t.getContext("2d"),i=n.backingStorePixelRatio||n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1,a=(window.devicePixelRatio||1)/i,o=a>2?a:2;return t.width=750*o,t.height=1e3*o,n.scale(o,o),n.mozImageSmoothingEnabled=!1,n.webkitImageSmoothingEnabled=!1,n.msImageSmoothingEnabled=!1,n.imageSmoothingEnabled=!1,n.drawImage(e,0,0,750,1e3),n.drawImage(qr,0,0,260,260,13,856,132,132),Canvas2Image.convertToJPEG(t,t.width,t.height)}},{key:"validationImageSize",value:function(t,n){if(0==t||0==n)return!1;if(t>=n&&n<e.imageRule.minWidth)return!1;if(t<n&&t<e.imageRule.minHeight)return!1;var i=t/n;return!(i<e.imageRule.minRatio||i>e.imageRule.maxRatio)}},{key:"cutAutoImage",value:function(e){return new s.a(function(t,n){var i=document.createElement("canvas"),a=i.getContext("2d"),o=a.backingStorePixelRatio||a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1,r=(window.devicePixelRatio||1)/o,s=$("#dropArea")[0].clientWidth,c=$("#dropArea")[0].clientHeight,u=new Image;u.src=e,u.onload=function(){var e;e="100%"==$("#dropImg").css("width")?this.width/parseFloat($("#dropImg").offset().width):this.height/parseFloat($("#dropImg").offset().height);var n=Math.abs(parseFloat($("#dropImg").css("left"))),o=Math.abs(parseFloat($("#dropImg").css("top")));i.style.width=s-1+"px",i.style.height=c+"px";var u=r>2?r:2;i.width=(s-1)*u,i.height=c*u,a.scale(u,u),a.drawImage(this,n*e,o*e,s*e,c*e,0,0,s,c);var l=Canvas2Image.convertToJPEG(i,s*u,c*u),d=new Image;d.src=l.src,d.onload=function(){t(this)}}})}},{key:"_html2canvas",value:function(e,t){var n=e,i=n.offsetWidth,a=n.offsetHeight,o=document.createElement("canvas");o.width=1.6*i,o.height=1.6*a,o.getContext("2d").scale(1.6,1.6);var r={scale:1.6,canvas:o,width:i,height:a,allowTaint:!0,onrendered:function(e){var n=e.getContext("2d");n.mozImageSmoothingEnabled=!1,n.webkitImageSmoothingEnabled=!1,n.msImageSmoothingEnabled=!1,n.imageSmoothingEnabled=!1,setTimeout(function(){var n=Canvas2Image.convertToPNG(e,e.width,e.height);t&&t(n)},0)}};setTimeout(function(){html2canvas(n,r)})}}]),e}();v.imageRule={minWidth:200,minHeight:200,minRatio:.46,maxRatio:2.2};var f=v,g=n("2uFj"),w=n.n(g),y="???",x=function(){function e(){d()(this,e)}return m()(e,null,[{key:"checkAppInfo",value:function(){p.isIos()?e.assignMyApp({isIos:!0}):p.isAndroid()&&e.assignMyApp({isAnd:!0}),y=e.myApp.eventName+e.myApp.inState,e.assignMyApp({EventFullPath:e.myApp.eventName+e.myApp.inState}),e.myApp.isInApp=!!window.ZEPETO,e.myApp.inState=window.ZEPETO?"-inApp":"-outApp",y=e.myApp.eventName+e.myApp.inState,e.assignMyApp({EventFullPath:e.myApp.eventName+e.myApp.inState})}},{key:"assignMyApp",value:function(t){e.myApp=u()({},e.myApp,t)}},{key:"pickImg",value:function(t,n){if(e.myApp.isInApp){var i=new EventCameraParam(EventCameraParam.types.imageCamera,EventCameraParam.cameraPositions.front,w.a.filterId,w.a.categoryId,w.a.stickerId,"",0),a=new EventCameraParam(EventCameraParam.types.imageAlbum);showSelectBox(function(){$("#cameraBtn, #galleryBtn").off("click"),$("#cameraBtn").one("click",function(){_hmt.push(["_trackEvent",y,"click","开始相机拍照"]),BridgeFactory.getBridge().eventCamera(i,e.eventCameraCallback)}),$("#galleryBtn").one("click",function(){_hmt.push(["_trackEvent",y,"click","开始相册选取"]),BridgeFactory.getBridge().eventCamera(a,e.eventCameraCallback)})})}else _hmt.push(["_trackEvent",y,"click","开始选取照片"]),$("#inputFile")[0].value="",$("#inputFile").off("change").trigger("click"),$("#inputFile").on("change",function(){return e.fileChanged.call(this,t,n)})}},{key:"eventCameraCallback",value:function(t,n){if(hideSelectBox(),t.success){ge.$loading.show(1,{text:"图片处理中..."});var i=new Image;i.src=t.base64Image,i.onload=function(){if(!f.validationImageSize(this.width,this.height))return ge.$loading.show(0),ge.$reminder.show(1,{text:"图片尺寸或比例不符合"});$("#bridgeImg")[0].src=this.src,e.ezGesture(this)}}}},{key:"ezGesture",value:function(e){$("#dropImg").css({opacity:"0",width:"auto",height:"auto"}),$("#dropImg")[0].src=e.src;var t=new EZGesture($("#dropArea")[0],$("#dropImg")[0],{targetMinWidth:Math.ceil($("#dropArea").offset().width),targetMinHeight:Math.ceil($("#dropArea").offset().height)});setTimeout(function(){var e=0==t.targetMinWidth?.5*($("#dropImg").width()-$("#dropArea").width()):.5*($("#dropImg").width()-t.targetMinWidth),n=0==t.targetMinHeight?.5*($("#dropImg").height()-$("#dropArea").height()):.5*($("#dropImg").height()-t.targetMinHeight);ge.$loading.show(0),$("#dropImg").css({left:"-"+e+"px",top:"-"+n+"px",opacity:"1"}),ge.$myState.upload=!0},300)}},{key:"fileChanged",value:function(t,n){if(!(this.files.length<=0)){if(!this.files[0].type.includes("image"))return ge.$reminder.show(1,{text:"不支持此种类型的文件"});if(this.files[0].size>1e7)return ge.$reminder.show(1,{text:"图片大小不得超过10M"});ge.$loading.show(1,{text:"图片处理中..."});var i=new Image;i.onload=function(){if(!f.validationImageSize(this.width,this.height))return ge.$loading.show(0),ge.$reminder.show(1,{text:"图片尺寸或比例不符合"});e.renderFileChangedImg(this,$("#bridgeImg")[0]).then(function(t){e.ezGesture($("#bridgeImg")[0])})},i.src=f.inputPath2url(this.files[0])}}},{key:"renderFileChangedImg",value:function(e,t){return new s.a(function(n,i){EXIF.getData(e,function(i){var a=EXIF.getAllTags(e).Orientation;new MegaPixImage(e).render(t,{maxWidth:980,maxHeight:980,orientation:a},n)})})}},{key:"save",value:function(e){var t=new SaveShareParam(e,SaveShareParam.types.image);BridgeFactory.getBridge().save(t,function(){_hmt.push(["_trackEvent",y,"Btn","保存图片"]),ge.$toast.show(1,{text:"保存成功"})})}},{key:"share",value:function(e){_hmt.push(["_trackEvent",y,"Btn","分享图片"]);var t=new SaveShareParam(e,SaveShareParam.types.image),n=!1;BridgeFactory.getBridge().shareWithCallback(t,function(){n||(n=!n,ge.$toast.show(1,{text:"保存成功"}))})}},{key:"sharePage",value:function(){var e=new SaveShareParam("http://www.baidu.com",SaveShareParam.types.web,"王欢斌的皮 - title","拜年红包 解锁要红包的新姿势 -content","https://h5.kajicam.com/favicon.ico");BridgeFactory.getBridge().shareWithCallback(e,function(e){alert("分享链接")})}},{key:"preloadImage",value:function(e){return new s.a(function(t,n){var i=new Image;i.src=e,i.onload=function(){t(this)}})}},{key:"drawShareImg",value:function(e,t){f._html2canvas(e,function(e){t(e)})}}]),e}();x.myApp={inState:"-outApp",isInApp:!1,version:"",dpr:window.devicePixelRatio,eventName:"2019手相"};var A=x,I={name:"App",components:{},beforeMount:function(){},mounted:function(){window.addEventListener("offline",function(){alert("请检查网络链接")}),setTimeout(function(){},500)},methods:{close:function(){window.location.href="ZEPETO://WEBVIEW/CLOSE"}},watch:{$route:function(e,t){"/"==e.path?this.transitionName="slide-right":this.transitionName="slide-left",window.scrollTo(0,0)}}},k=(n("0e3M"),n("K1/g")),b=Object(k.a)(I,o,[],!1,null,null,null);b.options.__file="src/App.vue";var P=b.exports,E=n("/ocq"),S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"p1"}},[n("div",{staticClass:"wpr"},[n("p",[e._v("站位置："+e._s(e.whereIs))]),e._v(" "),n("p",[e._v("用户ID："),n("input",{directives:[{name:"model",rawName:"v-model",value:e.userId,expression:"userId"}],attrs:{type:"text"},domProps:{value:e.userId},on:{input:function(t){t.target.composing||(e.userId=t.target.value)}}})]),e._v(" "),n("p",[e._v("在App内："+e._s(e.isInApp))]),e._v(" "),n("img",{attrs:{src:e.myImgURL}}),e._v(" "),n("button",{staticClass:"startBtn",attrs:{type:"button",name:"button"},on:{click:e.startBtn}},[e._v("生成单个人物形象")]),e._v(" "),n("button",{staticClass:"startBtn",attrs:{type:"button",name:"button"},on:{click:e.twoCombine}},[e._v("两个人物形象合成一个")])])])};S._withStripped=!0;var C=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.type,i=void 0===n?"photobooth":n,a=t.renderData,o=void 0===a?"4XF7OvHpnaEaOQsEUSkimi":a,r=t.width,s=void 0===r?512:r,c=t.height,u=void 0===c?512:c,l=t.bones,h=void 0===l?[]:l,m=t.characterHashCodes,p=void 0===m?["MYKURU","MYKURU"]:m;d()(this,e),this.type=i,this.renderData=o,this.width=s,this.height=u,this.bones=h,this.characterHashCodes=p},R=new(function(){function e(){d()(this,e)}return m()(e,[{key:"render",value:function(e){var t=this;return new s.a(function(n,i){0==window.hasOwnProperty("ZEPETO")?document.addEventListener("ZepetoLoaded",function(){t._Render(e,n,i)}):t._Render(e,n,i)})}},{key:"_Render",value:function(e,t,n){window.hasOwnProperty("ZEPETO")&&ZEPETO.invoke("Render",e,function(e){if(e.isSuccess){for(var i=window.atob(e.result),a=i.length,o=new Uint8Array(a);a--;)o[a]=i.charCodeAt(a);var r=new Blob([o],{type:"image/png"}),s=URL.createObjectURL(r);t(s)}else n(new Error("渲染失败"))})}}]),e}()),T={data:function(){return{whereIs:"web",userId:"",isInApp:null,myImgURL:""}},mounted:function(){this.init()},methods:{init:function(){var e=this,t=setInterval(function(){A.checkAppInfo(),window.ZEPETO&&(e.whereIs="app",e.userId=window.ZEPETO.userInfo.hashCode||"",e.$myState.zepetoId=e.userId,clearInterval(t))},20);setTimeout(function(){e.isInApp=A.myApp.isInApp,A.myApp.isInApp,clearInterval(t)},1500)},twoCombine:function(){var e=new C({width:400,height:400});R.render(e).then(function(e){var t=new Image;t.src=e,document.body.append(t)}).catch(function(e){})},startBtn:function(){var e=this;try{var t=this.userId.trim();this.$ut.checkUserName(t,10);var n=new RegExp("[`~!@#$^&*()=|{}':;',\\[\\].<>/?~！@#￥……&*（）——|{}【】‘；：”“'。，、？]");(t.includes(" ")||n.test(t))&&(setTimeout(function(){e.$loading.show(0)},100),alert("崽崽id格式不支持")),this.$ajax.correct(t).then(function(n){200==n.code?e.$ajax.getUserActions({characterHashCodes:[t]}).then(function(t){e.myImgURL=t[0]}):e.$reminder.show(1,{text:n.msg})})}catch(e){if((e+"").toLowerCase().includes("urierror"))return this.$reminder.show(1,{text:"崽崽id格式不支持"});this.$reminder.show(1,{text:(e+"").substr(6)})}}}},O=(n("FCgX"),Object(k.a)(T,S,[],!1,null,null,null));O.options.__file="src/components/p1.vue";var U=O.exports;a.a.use(E.a);var M=new E.a({routes:[{path:"/",redirect:{name:"index"}},{path:"/index",name:"index",component:U}]}),L=n("mtWM"),B=n.n(L),z=w.a.ajaxPrefix,D=B.a.create({timeout:2e4});function _(e){return D({method:"GET",url:z+"/zepeto-server-api/api/zepeto/zaizaiId/correct?ids="+e}).then(function(e){if(200==e.status)return e.data;throw Error("ajax 接口错误")}).catch(function(e){})}var j=[],F=["2GUPPPVatyMAia8AogyiOm","4qJxCsI8tm2qegEAbfowMl","4kJBi54behSBty8yfqoxBU","1YMo0aqH0fd1kcMnxa3bZm","6WumctNIOof7NfW9YZndjR","2LHUzQklfz6er97P5b2ZZS"];function H(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).characterHashCodes,t=void 0===e?"":e,n=[];for(j=[];;){var i=parseInt(Math.random()*F.length);if(3==n.length)break;n.includes(F[i])||(n.push(F[i]),j.push(i))}var a=n.map(function(e,n){return W({renderData:e,characterHashCodes:t}).then(function(e){return e})});return s.a.all(a).then(function(e){return e}).catch(function(e){})}function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,n=void 0===t?"photobooth":t,i=e.width,a=void 0===i?350:i,o=e.height,r=void 0===o?350:o,s=e.characterHashCodes,c=void 0===s?[]:s,u=e.renderData;return D({method:"POST",headers:{"Content-Type":"application/json;charset=UTF-8"},url:"https://api-zepeto.kajicam.com/render-server",data:{type:n,width:a,height:r,characterHashCodes:c,renderData:void 0===u?"":u},responseType:"arraybuffer"}).then(function(e){if(200==e.status)return"data:image/png;base64,"+btoa(new Uint8Array(e.data).reduce(function(e,t){return e+String.fromCharCode(t)},""))}).catch(function(e){})}function q(e){var t=e.zepetoId,n=e.base64;return D({method:"POST",url:z+"/zepeto-server-api/api/zepeto/expression/upload?uid="+t+"&characterHashCodes="+t,headers:{"Content-Type":"application/json;charset=UTF-8"},data:n}).then(function(e){if(200==e.status){if(200==e.data.code)return w.a.imagePrefix+e.data.data;throw new Error(e.data.msg)}}).catch(function(e){})}var N=n("mvHQ"),Z=n.n(N),J=function(){function e(){d()(this,e)}return m()(e,null,[{key:"compareVersion",value:function(e,t){for(var n in t){var i=parseInt(t[n],10)||0,a=parseInt(e[n],10)||0;if(i>a)return!0;if(i<a)return!1}return!1}},{key:"_load",value:function(e,t){var n=document.createElement("script");n.readyState?n.onreadystatechange=function(){"loaded"!=n.readyState&&"complete"!=n.readyState||(n.onreadystatechange=null,t&&t())}:n.onload=function(){t&&t()},n.src=e,document.getElementsByTagName("head")[0].appendChild(n)}},{key:"lStoragePut",value:function(e,t){localStorage.setItem(e,Z()(t))}},{key:"lStorageGet",value:function(e,t){if("undefined"==localStorage.getItem(e))return"";var n=JSON.parse(localStorage.getItem(e));return t&&localStorage.removeItem(e),n}},{key:"getQueryString",value:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(t);return null!=n?decodeURIComponent(n[2]):null}},{key:"isToday",value:function(e){return new Date(e).toDateString()===(new Date).toDateString()||!(new Date(e)<new Date)&&void 0}},{key:"getCodelength",value:function(e){for(var t=0,n=0;n<e.length;n++){var i=e.charAt(n);encodeURI(i).length>2?t+=1:t+=.5}return t}},{key:"checkEmoji",value:function(e){var t=/\uD83C[\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F]/g;return t.test(e)}},{key:"checkPhone",value:function(e){var t=e.trim();if(0==t.trim().length)throw new Error("请输入手机号");if(!/^1(3|5|7|8|9)\d{9}$/.test(t))throw new Error("请输入有效的手机号")}},{key:"checkUserName",value:function(t,n){if(/\uD83C[\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F]/g.test(t))throw new Error("崽崽id格式不支持");if(0==t.trim().length)throw new Error("请输入崽崽id");if(e.getCodelength(t.trim())>n)throw new Error("崽崽id最长支持10个字")}},{key:"browserPrevent",value:function(){var e=0;document.documentElement.addEventListener("touchend",function(t){var n=Date.now();n-e<=300&&t.preventDefault(),e=n},!1),document.addEventListener("gesturestart",function(e){e.preventDefault()})}},{key:"cancelInput",value:function(e){document.body.addEventListener("focusout",function t(){setTimeout(function(){var n,i;i=setInterval(function(){(n=e||document.documentElement.scrollTop||document.body.scrollTop)>e?window.scrollTo(0,Math.floor(.05*n)):(window.scrollTo(0,e),document.body.removeEventListener("focusout",t),document.body.style.height="100%",clearInterval(i))},30)},400)})}}]),e}(),V=function(){var e=this.$createElement,t=this._self._c||e;return this.show?t("div",{staticClass:"loading mask",staticStyle:{"z-index":"600",opacity:"0"}},[t("div",{staticClass:"wpr"},[t("div",{staticClass:"inWpr"},[t("img",{class:{loadingIcon:!0,run:this.show},staticStyle:{width:"1.08rem"},attrs:{src:n("Fge1"),alt:""}}),this._v(" "),t("var",[this._v(this._s(this.text))])])])]):this._e()};V._withStripped=!0;var G={props:{text:{type:String,default:"loading..."},show:{type:Boolean,default:!1}},data:function(){return{}}},Y=(n("OrHz"),Object(k.a)(G,V,[],!1,null,null,null));Y.options.__file="src/vueCommon/loading/3/l.vue";var Q=Y.exports,X=new(a.a.extend(Q))({el:document.createElement("div")}),K={show:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.el,i=void 0===n?document.querySelector("body"):n,a=t.text,o=void 0===a?"loading...":a;if(X.text=o,e)i.appendChild(X.$el),X.show=!0,setTimeout(function(){X.$el.style.opacity=1},50);else{if(!X.$el.style)return;X.$el.style.opacity="0",setTimeout(function(){X.show=!1},50)}}},ee={install:function(){a.a.loading||(a.a.$loading=K),a.a.mixin({created:function(){this.$loading=a.a.$loading}})}},te=function(){var e=this.$createElement,t=this._self._c||e;return this.show?t("div",{staticClass:"reminder mask",staticStyle:{opacity:"0"}},[t("div",{staticClass:"wpr"},[t("div",{staticClass:"inWpr"},[t("p",{domProps:{innerHTML:this._s(this.text)}}),this._v(" "),t("img",{staticClass:"button",attrs:{src:n("uxsg"),alt:""},on:{click:this.hide}})])])]):this._e()};te._withStripped=!0;var ne={props:{text:{type:String},show:{type:Boolean,default:!1},showCancel:{type:Boolean,default:!1}},data:function(){return{}},methods:{hide:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.show=!1,this.text="",e&&setTimeout(function(){$(".reminder").css({opacity:0})},80)}}},ie=(n("gPMw"),Object(k.a)(ne,te,[],!1,null,null,null));ie.options.__file="src/vueCommon/errMsg/2/e.vue";var ae=ie.exports,oe=new(a.a.extend(ae))({el:document.createElement("div")}),re={show:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.el,i=void 0===n?document.querySelector("body"):n,a=t.text,o=void 0===a?"错误提示":a;oe.text=o,e?(i.appendChild(oe.$el),oe.show=!0,setTimeout(function(){oe.$el.style.opacity="1"},50)):(oe.$el.style.opacity="0",setTimeout(function(){oe.show=!1},50))}},se={install:function(){a.a.reminderMsg||(a.a.$reminder=re),a.a.mixin({created:function(){this.$reminder=a.a.$reminder}})}},ce=function(){var e=this.$createElement;return(this._self._c||e)("div",{directives:[{name:"show",rawName:"v-show",value:this.state,expression:"state"}],class:{saveSucToast:!0,run:this.state}},[this._v("\n  "+this._s(this.text)+"\n")])};ce._withStripped=!0;var ue={props:{state:{type:Boolean,default:!1},text:{type:String}}},le=(n("Rw76"),Object(k.a)(ue,ce,[],!1,null,null,null));le.options.__file="src/vueCommon/toast/1/t.vue";var de=le.exports,he=new(a.a.extend(de))({el:document.createElement("div")}),me={show:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.el,i=void 0===n?document.querySelector("body"):n,a=t.text,o=void 0===a?"toast...":a;e?(i.appendChild(he.$el),he.text=o,he.state=!0,setTimeout(function(){he.state=!1},1200)):he.state=!1}},pe={install:function(){a.a.toast||(a.a.$toast=me),a.a.mixin({created:function(){this.$toast=a.a.$toast}})}},ve={install:function(e,t){e.prototype.$ut=J,e.prototype.$ajax=i,e.prototype.$myState={upload:!1}}};a.a.use(ve),a.a.use(se),a.a.use(ee),a.a.use(pe);var fe=new a.a({el:"#app",router:M,template:"<App/>",components:{App:P}}),ge=t.default=fe},OrHz:function(e,t,n){"use strict";var i=n("SUUZ");n.n(i).a},Rw76:function(e,t,n){"use strict";var i=n("/0Il");n.n(i).a},SUUZ:function(e,t){},TcyI:function(e,t){e.exports={assetsPublicPath:"./",assetsRoot:"../dist/local/",scheme:"b612cnb://",ajaxPrefix:"https://api-zepeto-beta.kajicam.com",sitePrefix:"http://h5-beta.kajicam.com/events",uploadUrl:"http://qa-b612-fs.snowcam.cn/v1/event/vision/stickerinfo/upload-only",siteUrl:"http://10.35.33.222:8080/index.html",imagePrefix:"https://test-img-hihi.oss-cn-beijing.aliyuncs.com/",filterId:"",categoryId:"",stickerId:"",activityName:"2019splicePic",easylinkImg:"../static/img/qrlink-beta.png"}},TgpH:function(e,t){e.exports={assetsPublicPath:"//h5-pre.kajicam.com/events/sept/",assetsRoot:"../dist/pre/",scheme:"b612cn://",sitePrefix:"h5-pre.kajicam.com/events/",uploadUrl:"http://qa-b612-fs.snowcam.cn/v1/event/vision/xiaofu/upload-only",imgProcess:"http://qa-b612-fs.snowcam.cn/v1/event/vision/xiaofu",imagePrefix:"https://qa-b612.snowcam.cn/owfs/"}},gPMw:function(e,t,n){"use strict";var i=n("6Gvr");n.n(i).a},lYRQ:function(e,t){},uJdG:function(e,t){},uxsg:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAR4AAABkBAMAAACiKUL2AAAALVBMVEVHcEz/nDn/nDf/mzb/nDf/mzX/pU7/kx/++ML/wln+4qP+0In/umv/xn3/nDcWmsNgAAAABnRSTlMAH5hW3/O+x+b9AAACtElEQVRo3u3bT2viUBAA8LD2gxQWurdSytJzoeB+j7JMu4n2YLfkG8gj6rXQLyCy9RzEdK8SaHoVwb3vbT9DZ96fGLVlwbaZObw5mBjR/Ehm5j0DLwiC4LgJAHdA8eNWb3Z4s/s39ZvvnwMXX9/0Q+/kATiznE8gwwP7xnMgxXOuOQ2Q4oEj8uzJ8ZyS50SO57ySPhI8V1RiTTkeiLHEQJKnI8wTHwnznJae1+PuP5/bX93586rnWpinI8xzI8wTe8+bPfWF93iP93iP93jPR3seto60ioLP01JqjJvCBh0aKZUChPczDk9bqQFApEwMrAcpuVbV7gmV6q88XTqEW/M65/F0V57U3EGlr5viuF+Xax48sJwqlWQpHk9+YdTsySZK3WfZ0nB6Jnvoxi1Wwho9LXvWcZZlNn2sR7F6UrOblp4euye0Jx+ptWDz5CZ9ZHjmut/0rceQ/hRPtXvgEct6Qf2YKn5oPbr6E9eJavXgqfs5eSh9ZlVPn8VDw8XkBc+ALhaDh9ozCh6pL2Jj/O083Ry4PEMUTGxeJ6UHeDyYO0NkrHumfB6EzLc8NF5EOJY+1O/BsxfYCLc9lN9jFk9kSkyGB89IJb9eX3wezNjEzMiq/YfPg7PS3kIPFFXPlM0TlsPpRn9mqveonFTI8MBCmKftpvFCPDRg6HmYFI+eIc7keEL7t73qGTHfLyr4zX7I5Gm5/xdCPJduGBXiQUYSbo4XzhMx5M8Eq31qG+OmJ2fwtO1TpwxD7yxpL0vdbu3PM5/g/cM/f/Ye7/Ee7/Ee7/Ee7+H3NIV5DuRwrshzIsyzJ8dzQZ6GHM9f8shJILpdcbkeRMbl+Vmul5FxeTq0xOBQAucfceJrvSQkFhN6SUhDjkcvmQm+SOF07JIrKZ59tyRNBuesXCN3/I1fc0NL9p4BVZcp3lCxk6cAAAAASUVORK5CYII="}},["NHnr"]);